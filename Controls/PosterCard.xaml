<UserControl
    x:Class="ModernIPTVPlayer.Controls.PosterCard"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:ModernIPTVPlayer.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid x:Name="RootGrid" 
          Background="Transparent" 
          RenderTransformOrigin="0.5,0.5"
          PointerEntered="OnPointerEntered"
          PointerExited="OnPointerExited"
          PointerMoved="OnPointerMoved"
          Margin="16"> <!-- Increased margin to prevent shadow clipping -->

        <Grid.Resources>
            <Storyboard x:Name="HoverInStoryboard">
                <DoubleAnimation Storyboard.TargetName="ScaleTrans" Storyboard.TargetProperty="ScaleX" To="1.05" Duration="0:0:0.3">
                    <DoubleAnimation.EasingFunction>
                        <CubicEase EasingMode="EaseOut"/>
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
                <DoubleAnimation Storyboard.TargetName="ScaleTrans" Storyboard.TargetProperty="ScaleY" To="1.05" Duration="0:0:0.3">
                    <DoubleAnimation.EasingFunction>
                        <CubicEase EasingMode="EaseOut"/>
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
            </Storyboard>
            <Storyboard x:Name="HoverOutStoryboard">
                <DoubleAnimation Storyboard.TargetName="ScaleTrans" Storyboard.TargetProperty="ScaleX" To="1.0" Duration="0:0:0.3">
                    <DoubleAnimation.EasingFunction>
                        <CubicEase EasingMode="EaseOut"/>
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
                <DoubleAnimation Storyboard.TargetName="ScaleTrans" Storyboard.TargetProperty="ScaleY" To="1.0" Duration="0:0:0.3">
                     <DoubleAnimation.EasingFunction>
                        <CubicEase EasingMode="EaseOut"/>
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
            </Storyboard>
        </Grid.Resources>

        <Grid.RenderTransform>
            <ScaleTransform x:Name="ScaleTrans" ScaleX="1.0" ScaleY="1.0"/>
        </Grid.RenderTransform>
        <Grid.Projection>
            <PlaneProjection x:Name="TiltProjection"/>
        </Grid.Projection>



        <!-- Main Content -->
        <Border x:Name="MainBorder" CornerRadius="12" Background="#FF1a1a1a">
             <Image x:Name="PosterImage" Stretch="UniformToFill" Opacity="0" ImageOpened="Image_ImageOpened"/>
        </Border>
    </Grid>
</UserControl>
