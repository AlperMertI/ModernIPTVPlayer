<Window
    x:Class="ModernIPTVPlayer.PiPWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:ModernIPTVPlayer"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid x:Name="RootGrid" Background="{x:Null}">
        <!-- Video Container -->
        <Grid x:Name="PlayerContainer" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

        <!-- Drag & Controls Overlay -->
        <Grid x:Name="OverlayGrid" 
              PointerPressed="OverlayGrid_PointerPressed"
              PointerMoved="OverlayGrid_PointerMoved"
              PointerReleased="OverlayGrid_PointerReleased"
              PointerEntered="OverlayGrid_PointerEntered"
              PointerExited="OverlayGrid_PointerExited">
            
            <Grid.Background>
                <SolidColorBrush x:Name="OverlayBackground" Color="Black" Opacity="0"/>
            </Grid.Background>

            <!-- PiP Controls (Visible on Hover) -->
            <StackPanel x:Name="ControlsPanel" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Center" 
                        VerticalAlignment="Center" 
                        Spacing="20" 
                        Opacity="0">
                <StackPanel.Transitions>
                    <TransitionCollection>
                        <EntranceThemeTransition FromVerticalOffset="20"/>
                    </TransitionCollection>
                </StackPanel.Transitions>

                <!-- Mute Button -->
                <Button x:Name="MuteButton" Click="MuteButton_Click" Width="48" Height="48" CornerRadius="24" Padding="0"
                        Style="{StaticResource GlassButtonStyle}" Background="#CC000000">
                    <FontIcon x:Name="MuteIcon" Glyph="&#xE74F;" FontSize="18"/>
                </Button>

                <!-- Play/Pause Button -->
                <Button x:Name="PlayPauseButton" Click="PlayPauseButton_Click" Width="64" Height="64" CornerRadius="32" Padding="0"
                        Style="{StaticResource GlassButtonStyle}" Background="White" Foreground="Black">
                    <FontIcon x:Name="PlayPauseIcon" Glyph="&#xE768;" FontSize="24"/>
                </Button>

                <!-- Exit PiP Button -->
                <Button x:Name="ExitButton" Click="ExitButton_Click" Width="48" Height="48" CornerRadius="24" Padding="0"
                        Style="{StaticResource GlassButtonStyle}" Background="#CC000000">
                    <FontIcon Glyph="&#xE8A7;" FontSize="18"/>
                </Button>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
